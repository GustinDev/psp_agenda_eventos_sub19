<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Calendario De Eventos" />
    <meta
      name="keyboards"
      content="Calendario, Eventos, Agenda, Organizacion"
    />
    <link rel="icon" type="image/svg+xml" href="./public/calendar.svg" />
    <link rel="stylesheet" href="vendors/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="vendors/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="style.css" />

    <title>Agenda PSP</title>
  </head>

  <body class="w-full">
    <!-- NAVBAR -->
    <header
      class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom px-5"
      style="background-color: #43afee"
    >
      <a
        href="index.html"
        class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none text-bold"
      >
        <span class="fs-4 fw-bold"
          ><i class="fa fa-calendar"></i> Agenda PSP</span
        >
      </a>

      <ul class="nav nav-pills fs-6 fw-bold">
        <li class="nav-item">
          <a href="index.html" class="nav-link" aria-current="page"
            ><i class="fas fa-home"></i>
            <span class="text-white">Inicio</span></a
          >
        </li>
        <li class="nav-item">
          <a href="calendar.html" class="nav-link"
            ><i class="fas fa-calendar"></i>
            <span class="text-white">Calendario</span></a
          >
        </li>
        <li class="nav-item">
          <a href="register.html" class="nav-link active"
            ><i class="fas fa-arrow-right"></i>
            <span class="text-white">Registro</span></a
          >
        </li>
        <li class="nav-item">
          <a href="login.html" class="nav-link"
            ><i class="fas fa-user"></i>
            <span class="text-white">Ingresar</span></a
          >
        </li>
      </ul>
    </header>
    <!-- BODY -->
    <main>
      <div class="login-container">
        <div class="login-box">
          <h2>Registrate</h2>
          <form id="registerForm">
            <div class="user-box">
              <input type="text" name="name" required />
              <label>Nombre De Usuario</label>
            </div>
            <div class="user-box">
              <input type="email" name="email" required />
              <label>Correo</label>
            </div>
            <div class="user-box">
              <input type="password" name="password" required />
              <label>Contraseña</label>
            </div>
            <div class="user-box">
              <input type="password" name="confirmPassword" required />
              <label>Confirmar Contraseña</label>
            </div>
          
            <button type="submit">Enviar</button>
          </form>
          
        </div>
      </div>
    </main>
    <!-- FOOTER -->
    <footer
      class="row py-4 d-flex justify-content-between text-dark mt-5 px-5 fs-5 text-white"
      style="background-color: #43afee; width: 100.5%"
    >
      <div class="col-12 col-md-4">
        <ul class="list-unstyled">
          <li>
            <i class="fas fa-map-marked-alt"></i> Sede Politécnico Gran
            Colombiano
          </li>
          <li><i class="fas fa-city"></i> Medellín-Bogotá</li>
          <li><i class="fas fa-phone-alt"></i> Subgrupo 19</li>
        </ul>
      </div>

      <div class="col-12 col-md-4 text-center fs-5 fw-bold">
        <h5>Comunícate con nosotros</h5>
        <ul class="list-unstyled d-flex justify-content-center mt-3">
          <li style="margin-right: 20px">
            <a href="https://twitter.com/?lang=es" class="text-white"
              ><i class="fab fa-twitter-square fa-2x mr-3"></i
            ></a>
          </li>
          <li style="margin-right: 20px">
            <a href="https://www.facebook.com/" class="text-white"
              ><i class="fab fa-facebook fa-2x mr-3"></i
            ></a>
          </li>
          <li style="margin-right: 20px">
            <a href="https://www.instagram.com/?hl=es" class="text-white"
              ><i class="fab fa-instagram-square fa-2x"></i
            ></a>
          </li>
        </ul>
      </div>
    </footer>

    <script src="vendors/bootstrap/js/bootstrap.min.js"></script>
    <script>
      document.getElementById('registerForm').addEventListener('submit', function(event) {
        event.preventDefault();
    
        var name = document.querySelector('[name="name"]').value;
        var email = document.querySelector('[name="email"]').value;
        var password = document.querySelector('[name="password"]').value;
        var confirmPassword = document.querySelector('[name="confirmPassword"]').value;
    
        // Verifica que las contraseñas coincidan
        if (password !== confirmPassword) {
          alert('Las contraseñas no coinciden.');
          return;
        }
    
        var data = {
          name: name,
          email: email,
          password: password
        };
    
        fetch('https://royal-flicker-diamond.glitch.me/auth/register', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        })
        .then(response => {
          if (response.ok) {
            alert('Registro exitoso!');
          } else if(response.status === 400) {
            alert('Datos de registro inválidos.');
          } else {
            throw new Error('Error en la respuesta del servidor');
          }
        })
        .catch((error) => {
          console.error('Error:', error);
          alert('Error al registrar. Por favor, intenta de nuevo.');
        });
      });
    </script>
    
  </body>
</html>
